.card
  .card-body

    - if params[:action] == 'edit'
      = render 'breadcrumb', titles: [link_to(@substrate.title, @substrate), formtitle]
    - else
      = render 'breadcrumb', titles: [formtitle]

    = bootstrap_form_for @substrate, html: { layout: :horizontal } do |f|
      = render 'main/error', object: @substrate
      = f.hidden_field :lock_version

      .row
        .col
          = f.text_field :title

      .row
        .col
          = f.select :status, {}, {}, { class: 'selectpicker' } do
            - Substrate::STATUSES.each do |s|
              = content_tag(:option, s, value: s, data: { content: status_text(s) }, selected: s == f.object.status )

        .col
          = f.select :priority, {}, {}, { class: 'selectpicker' } do
            - Substrate::PRIORITIES.each do |s|
              = content_tag :option,
                t("substrates.priorities.#{s}"),
                value: s,
                data: { content: priority_select_tag(s) },
                selected: (f.object.priority == s)

      .row
        .col-6.col-md-4
          = f.text_field :drawing
        .col-6.col-md-4
          = f.text_field :detail
        .col-6.col-md-4
          = f.number_field :amount
      .row
        .col-6.col-md-4
          = f.select :sides, {}, { include_blank: t('shared.to_select') }, { class: 'selectpicker' } do
            - Substrate::SIDES.each do |s|
              = content_tag :option,
                t("substrates.sides.#{s}"),
                value: s,
                selected: (f.object.sides == s)

        .col-6.col-md-4#substrate_coating_type_block
          = f.select :coating_type,   Substrate::COATINGS.map { |c| c }, {}, { class: 'selectpicker' }
        .col-6.col-md-4#substrate_coating_type_block_b
          = f.select :coating_type_b, Substrate::COATINGS.map { |c| c }, {}, { class: 'selectpicker' }
      .row
        .col-6.col-md-4
          = f.text_field :wave
        .col-6.col-md-4
          = f.text_field :corner
        .col-6.col-md-4
          = f.text_field :propotions
      .row
        .col-6.col-md-3
          .mb-4
            = f.check_box :frame, custom: :switch
      .row
        .col
          = f.text_field :arrival_at, class: 'datepicker',
            value: (f.object.arrival_at.to_datetime.strftime('%d.%m.%Y') if f.object.arrival_at.present?)
          = f.text_field :arrival_from
          = f.text_field :contract
        .col
          = f.text_field :future_shipping_at, class: 'datepicker',
            value: (f.object.future_shipping_at.to_datetime.strftime('%d.%m.%Y') if f.object.future_shipping_at.present?)
          = f.text_field :shipping_at, class: 'datepicker',
            value: (f.object.shipping_at.to_datetime.strftime('%d.%m.%Y') if f.object.shipping_at.present?)
          = f.text_field :shipping_to
          = f.text_field :shipping_base
      .row
        .col
          = f.text_area :desc

      = f.submit t('shared.save')
